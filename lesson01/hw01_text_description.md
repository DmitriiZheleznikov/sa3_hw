120 - только модель, нет эвентов
210 - правила расчета по списку задач
220, 230 - профили, борды, отчеты

# ES
> Текстом опишите логику по которой сгруппировали команды и события в контексты.

1. Логика была простой: все, что относится к задачам (включая расчеты) в задачи. Держал в голове, что это будет задача как некий объект (сервис, модуль, таблица в базе), вокруг которого все крутится. Т.е. если надо этот объект мутировать, то эта операция и эвен относятся к контексту задачи.
	1. расчет цен и матчинг в реальности скорее всего будут отдельно от задач, как сервисы, но для бизнес-процессов решил оставить в контексте задач, так как они тесно связаны
2. Аналогично склад. Заказ печенья им же, потому что выделять отдельно странно и печенье все равно потом приходит на склад и принимать его будет работник склада.
3. Тотализатор логически вообще отдельная штука, как и заявки в воркеры, они никак не связаны ни с чем, кроме того что первый смотрит на задачи, а второй приносит воркеров
4. Билинг выделен отдельно, потому что опять же большой и сложный кусок локиги (там возможно будет несколько сервисов в итоге) и он логически отделяется, хоть и связан с остальным
5. Аудит как и тоталиатор лишь слушает и имеет свои данные (результаты анализа), ничего не мутирует, не участвует в задачах и других процессах. Влияет совсем косвенно на них, через новые тесты, например
6. Нотификации - ну логика опять же проста: они отделены, потому что я могу их отделить. Но я хз как правильно сделать (вопрос в чате про то кто должен решать о посылке сервисы или нотификация)
# Data Modeling
> Сделайте модель данных для требуемой системы

Тут у меня аналогичные вопросы к нотификациям:
1. Когда задачи говорят нотицикациям, что послать, значит сервисы должны знать о нотицикациях (темплейт, входные данные)
2. Когда нотификация решает что-то послать по эвенту от сервисов (ордер оплачен), то нотификация должна хранить чуть ли не всю систему или запрашивать сервисы каждый раз за инфой... тоже стремно, как по мне.

И есть вопрос про контексты: если сделать контекст для котов (все коты там типа cats profiles) и сделать там мастер данных по ним. Такого не будет в ES как это вяжется?
# Common Communication Model
> Сделайте общую модель всех полученных коммуникаций в системе

Банально из Data Modeling основное: стрим данных для дубликатов (для read) и оповещение о эвентах
# Реализация проекта
> Выберите подходящую реализацию проекта (монолит или сервисы, как элементы системы связаны между собой).
> - Текстом опишите, почему была выбрана именно такая структура, какие варианты рассматривались и по каким причинам было выбрано итоговое решение.
> - Если были выбраны сервисы — текстом опишите, почему были выбраны синхронные или асинхронные коммуникации.

1. Сервисы, потому что "CV Driven", но помимо этого у нас есть как минимум несколько независимых контекстов, которые могут жить отдельно и независимо. Цельный монолит тоже подходит, как мне кажется, так как база тут нужна реляционная, а вместо сервисов мы можем делать модули.
	1. задачи могут быть и небольшим монолитом, а могут быть несколькими сервисами с синхронным сообщением
	2. короче внутри контекста синхронное сообщение
	3. меджу контекстами асинхронное, кроме может быть пары мест: создание воркера из заявок, задача - склад (надо подумать, может и нет), задача-биллинг (тоже надо подумать ещё)
